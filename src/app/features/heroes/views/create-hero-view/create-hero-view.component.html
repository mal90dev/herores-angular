<div class="create-form animate__animated animate__fadeIn">
  <button class="margin-t-2" mat-raised-button color="primary" routerLink="/">Back</button>
  <form [formGroup]="createForm" class="form" role="form">
    <div class="row pb-3">
      <ng-template [ngIf]="controls.image.value" [ngIfElse]="avatar">
        <img [src]="controls.image.value | safe: 'url'" class="form__img rounded-circle float-start" alt="hero image">
      </ng-template>
      <ng-template #avatar>
        <img [src]="avatarImg | safe: 'url'" class="form__img rounded-circle float-start" alt="hero image">
      </ng-template>
    </div>
    <h2 class="mat-h2">Biography</h2>
    <mat-divider class="form__divider"></mat-divider>
    <div class="row">
      <mat-form-field class="form__field form__field--large">
        <mat-label>Name</mat-label>
        <input matInput type="text" formControlName="name" title="name">
      </mat-form-field>
      @for (item of biographyHero | keyvalue; track item.key) {
        <mat-form-field class="form__field form__field--large">
          <mat-label>{{item.key}}</mat-label>
          <input matInput type="text" formControlName="{{item.key}}" title="{{item.key}}">
        </mat-form-field>
      }
    </div>
    <h2 class="mat-h2">Powerstats</h2>
    <mat-divider class="form__divider"></mat-divider>
    <div class="row">
      @for (item of powerstatsHero | keyvalue; track item.key) {
        <mat-form-field class="form__field form__field--small">
          <mat-label>{{item.key}}</mat-label>
          <input matInput type="text" formControlName="{{item.key}}" title="{{item.key}}">
        </mat-form-field>
      }
    </div>
    <h2 class="mat-h2">Appearance</h2>
    <mat-divider class="form__divider"></mat-divider>
    <div class="row">
      @for (item of appearanceHero | keyvalue; track item.key) {
        <mat-form-field class="form__field form__field--small">
          <mat-label>{{item.key}}</mat-label>
          <input matInput type="text" formControlName="{{item.key}}" title="{{item.key}}">
        </mat-form-field>
      }
    </div>
  </form>
  <button mat-raised-button color="accent" type="submit" class="mt-3 mb-5" (click)="onSubmit()">
    {{ id() ? 'Update': 'Created'}}
  </button>
</div>
